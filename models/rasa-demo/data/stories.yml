version: "2.0"

stories:

########## 輸入start開始整個流程
- story: welcome
  steps:
  - intent: start
  - action: utter_welcome
  - action: utter_ask_func
#  - checkpoint: check_user_func
#
#- story: after_func
#  steps:
#  - checkpoint: check_user_func
  - intent: say_function
    entities:
    - function
  - action: utter_ask_os
  - intent: say_os
    entities:
    - os
  - action: utter_ask_pl
  - intent: say_pl
    entities:
    - pl
  - action: ask_question_or_message
  - intent: say_message
    entities:
    - message
  #- action: utter_check_message
  - action: utter_CORS_problem_answer
  - checkpoint: check_continue_search


- story: search_affirm
  steps:
  - checkpoint: check_continue_search
  - action: utter_detect_stroy
  - intent: affirm
  - action: utter_CORS_problem_answer
  - checkpoint: check_continue_search

- story: search_deny
  steps:
  - checkpoint: check_continue_search
  - action: utter_detect_stroy
  - intent: deny
  - action: utter_ask_satisfied
  - checkpoint: check_satisfied
  
- story: satisfied_affirm
  steps:
  - checkpoint: check_satisfied
  - intent: affirm
  #- action: utter_affirm_satisfied
  - action: utter_finish
  

- story: satisfied_deny
  steps:
  - checkpoint: check_satisfied
  - intent: deny
  #- action: utter_affirm_notsatisfied
  - action: utter_finish
  


#- story: my_example
#  steps:
#  - intent: say_name
#    entities:
#    - name
#  - action: utter_ask_country_val
#  - intent: say_country
#    entities:
#    - country
#  - action: utter_response

#- story: test_my_action
#  steps:
#  - intent: action_test
#  - action: ActionHelloWorld
  
# 美金換算(使用者說要換的台幣，機器人輸出美金)
#- story: test_exchange
#  steps:
#  - intent: ask_NT
#    entities:
#    - NT
#  - action: exchange
